<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>2 Setup | R: an introduction to data management and analysis</title>
  <meta name="description" content="The handbook for the Osa Conservation R and biodiversity analysis course." />
  <meta name="generator" content="bookdown 0.17 and GitBook 2.6.7" />

  <meta property="og:title" content="2 Setup | R: an introduction to data management and analysis" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="The handbook for the Osa Conservation R and biodiversity analysis course." />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="2 Setup | R: an introduction to data management and analysis" />
  
  <meta name="twitter:description" content="The handbook for the Osa Conservation R and biodiversity analysis course." />
  

<meta name="author" content="Chris Beirne" />


<meta name="date" content="2020-12-11" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="r-basics.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Preface</a></li>
<li class="chapter" data-level="2" data-path="setup.html"><a href="setup.html"><i class="fa fa-check"></i><b>2</b> Setup</a><ul>
<li class="chapter" data-level="2.1" data-path="setup.html"><a href="setup.html#notation"><i class="fa fa-check"></i><b>2.1</b> Notation</a></li>
<li class="chapter" data-level="2.2" data-path="setup.html"><a href="setup.html#download-and-open-r"><i class="fa fa-check"></i><b>2.2</b> Download and open R</a></li>
<li class="chapter" data-level="2.3" data-path="setup.html"><a href="setup.html#download-and-open-r-studio"><i class="fa fa-check"></i><b>2.3</b> Download and open R Studio</a></li>
<li class="chapter" data-level="2.4" data-path="setup.html"><a href="setup.html#setting-up-r-studio-to-be-productive"><i class="fa fa-check"></i><b>2.4</b> Setting up R Studio to be productive</a><ul>
<li class="chapter" data-level="2.4.1" data-path="setup.html"><a href="setup.html#r-projects"><i class="fa fa-check"></i><b>2.4.1</b> R Projects</a></li>
<li class="chapter" data-level="2.4.2" data-path="setup.html"><a href="setup.html#create-a-data-sheet-to-save-your-code"><i class="fa fa-check"></i><b>2.4.2</b> Create a data sheet to save your code</a></li>
<li class="chapter" data-level="2.4.3" data-path="setup.html"><a href="setup.html#name-your-files"><i class="fa fa-check"></i><b>2.4.3</b> Name your files</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="setup.html"><a href="setup.html#first-steps"><i class="fa fa-check"></i><b>2.5</b> First Steps</a><ul>
<li class="chapter" data-level="2.5.1" data-path="setup.html"><a href="setup.html#veiwing-data"><i class="fa fa-check"></i><b>2.5.1</b> Veiwing Data</a></li>
<li class="chapter" data-level="2.5.2" data-path="setup.html"><a href="setup.html#data-summaries"><i class="fa fa-check"></i><b>2.5.2</b> Data summaries</a></li>
<li class="chapter" data-level="2.5.3" data-path="setup.html"><a href="setup.html#plot-your-data"><i class="fa fa-check"></i><b>2.5.3</b> Plot your data</a></li>
<li class="chapter" data-level="2.5.4" data-path="setup.html"><a href="setup.html#test-your-hypotheses"><i class="fa fa-check"></i><b>2.5.4</b> Test your hypotheses</a></li>
<li class="chapter" data-level="2.5.5" data-path="setup.html"><a href="setup.html#regression-analysis"><i class="fa fa-check"></i><b>2.5.5</b> Regression analysis</a></li>
<li class="chapter" data-level="2.5.6" data-path="setup.html"><a href="setup.html#congratulations"><i class="fa fa-check"></i><b>2.5.6</b> Congratulations</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="r-basics.html"><a href="r-basics.html"><i class="fa fa-check"></i><b>3</b> R Basics</a><ul>
<li class="chapter" data-level="3.1" data-path="r-basics.html"><a href="r-basics.html#quick-glossary"><i class="fa fa-check"></i><b>3.1</b> Quick Glossary</a></li>
<li class="chapter" data-level="3.2" data-path="r-basics.html"><a href="r-basics.html#objects-and-functions"><i class="fa fa-check"></i><b>3.2</b> Objects and functions</a></li>
<li class="chapter" data-level="3.3" data-path="r-basics.html"><a href="r-basics.html#r-as-a-calculator"><i class="fa fa-check"></i><b>3.3</b> R as a calculator</a></li>
<li class="chapter" data-level="3.4" data-path="r-basics.html"><a href="r-basics.html#assigning-single-values-a.k.a.-scalars"><i class="fa fa-check"></i><b>3.4</b> Assigning single values (a.k.a. scalars)</a></li>
<li class="chapter" data-level="3.5" data-path="r-basics.html"><a href="r-basics.html#assigning-multiple-values"><i class="fa fa-check"></i><b>3.5</b> Assigning multiple values</a><ul>
<li class="chapter" data-level="3.5.1" data-path="r-basics.html"><a href="r-basics.html#concatenation-a.k.a.-vectors"><i class="fa fa-check"></i><b>3.5.1</b> Concatenation (a.k.a. vectors)</a></li>
<li class="chapter" data-level="3.5.2" data-path="r-basics.html"><a href="r-basics.html#sequences"><i class="fa fa-check"></i><b>3.5.2</b> Sequences</a></li>
<li class="chapter" data-level="3.5.3" data-path="r-basics.html"><a href="r-basics.html#vector-arithmatic"><i class="fa fa-check"></i><b>3.5.3</b> Vector Arithmatic</a></li>
<li class="chapter" data-level="3.5.4" data-path="r-basics.html"><a href="r-basics.html#vector-summaries"><i class="fa fa-check"></i><b>3.5.4</b> Vector Summaries</a></li>
<li class="chapter" data-level="3.5.5" data-path="r-basics.html"><a href="r-basics.html#ordering-and-manipulating-vectors"><i class="fa fa-check"></i><b>3.5.5</b> Ordering and manipulating vectors</a></li>
<li class="chapter" data-level="3.5.6" data-path="r-basics.html"><a href="r-basics.html#removing-objects-from-the-workspace"><i class="fa fa-check"></i><b>3.5.6</b> Removing objects from the workspace</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="r-basics.html"><a href="r-basics.html#quitting-r"><i class="fa fa-check"></i><b>3.6</b> Quitting R</a></li>
<li class="chapter" data-level="3.7" data-path="r-basics.html"><a href="r-basics.html#packages"><i class="fa fa-check"></i><b>3.7</b> Packages</a><ul>
<li class="chapter" data-level="3.7.1" data-path="r-basics.html"><a href="r-basics.html#install-your-first-package"><i class="fa fa-check"></i><b>3.7.1</b> Install your first package</a></li>
<li class="chapter" data-level="3.7.2" data-path="r-basics.html"><a href="r-basics.html#loading-a-package"><i class="fa fa-check"></i><b>3.7.2</b> Loading a package</a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="r-basics.html"><a href="r-basics.html#getting-help"><i class="fa fa-check"></i><b>3.8</b> Getting help</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="advanced-coding.html"><a href="advanced-coding.html"><i class="fa fa-check"></i><b>4</b> Advanced coding</a><ul>
<li class="chapter" data-level="4.1" data-path="advanced-coding.html"><a href="advanced-coding.html#classes-of-data"><i class="fa fa-check"></i><b>4.1</b> Classes of data</a><ul>
<li class="chapter" data-level="4.1.1" data-path="advanced-coding.html"><a href="advanced-coding.html#numbers"><i class="fa fa-check"></i><b>4.1.1</b> Numbers</a></li>
<li class="chapter" data-level="4.1.2" data-path="advanced-coding.html"><a href="advanced-coding.html#strings"><i class="fa fa-check"></i><b>4.1.2</b> Strings</a></li>
<li class="chapter" data-level="4.1.3" data-path="advanced-coding.html"><a href="advanced-coding.html#characters"><i class="fa fa-check"></i><b>4.1.3</b> Characters</a></li>
<li class="chapter" data-level="4.1.4" data-path="advanced-coding.html"><a href="advanced-coding.html#factors"><i class="fa fa-check"></i><b>4.1.4</b> Factors</a></li>
<li class="chapter" data-level="4.1.5" data-path="advanced-coding.html"><a href="advanced-coding.html#changing-data-structure"><i class="fa fa-check"></i><b>4.1.5</b> Changing data structure</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="advanced-coding.html"><a href="advanced-coding.html#dataframes"><i class="fa fa-check"></i><b>4.2</b> Dataframes</a><ul>
<li class="chapter" data-level="4.2.1" data-path="advanced-coding.html"><a href="advanced-coding.html#exploring-dataframes"><i class="fa fa-check"></i><b>4.2.1</b> Exploring dataframes</a></li>
<li class="chapter" data-level="4.2.2" data-path="advanced-coding.html"><a href="advanced-coding.html#numerical-summaries"><i class="fa fa-check"></i><b>4.2.2</b> Numerical Summaries</a></li>
<li class="chapter" data-level="4.2.3" data-path="advanced-coding.html"><a href="advanced-coding.html#selecting-entries-in-a-dataframe"><i class="fa fa-check"></i><b>4.2.3</b> Selecting entries in a dataframe</a></li>
<li class="chapter" data-level="4.2.4" data-path="advanced-coding.html"><a href="advanced-coding.html#dplyr-and-data-summaries"><i class="fa fa-check"></i><b>4.2.4</b> dplyr and data summaries</a></li>
<li class="chapter" data-level="4.2.5" data-path="advanced-coding.html"><a href="advanced-coding.html#merging-dataframes"><i class="fa fa-check"></i><b>4.2.5</b> Merging dataframes</a></li>
<li class="chapter" data-level="4.2.6" data-path="advanced-coding.html"><a href="advanced-coding.html#exporting-dataframes"><i class="fa fa-check"></i><b>4.2.6</b> Exporting dataframes</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="advanced-coding.html"><a href="advanced-coding.html#plots"><i class="fa fa-check"></i><b>4.3</b> Plots</a><ul>
<li class="chapter" data-level="4.3.1" data-path="advanced-coding.html"><a href="advanced-coding.html#scatter-plots"><i class="fa fa-check"></i><b>4.3.1</b> Scatter plots</a></li>
<li class="chapter" data-level="4.3.2" data-path="advanced-coding.html"><a href="advanced-coding.html#exporting-graphs"><i class="fa fa-check"></i><b>4.3.2</b> Exporting Graphs</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="advanced-coding.html"><a href="advanced-coding.html#merging-columns"><i class="fa fa-check"></i><b>4.4</b> Merging columns</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="real-world-data.html"><a href="real-world-data.html"><i class="fa fa-check"></i><b>5</b> Real world data</a><ul>
<li class="chapter" data-level="5.1" data-path="real-world-data.html"><a href="real-world-data.html#data-organisation"><i class="fa fa-check"></i><b>5.1</b> Data organisation</a><ul>
<li class="chapter" data-level="5.1.1" data-path="real-world-data.html"><a href="real-world-data.html#the-10-database-commandments"><i class="fa fa-check"></i><b>5.1.1</b> The 10 database commandments</a></li>
<li class="chapter" data-level="5.1.2" data-path="real-world-data.html"><a href="real-world-data.html#my-database-setup"><i class="fa fa-check"></i><b>5.1.2</b> My database setup</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="real-world-data.html"><a href="real-world-data.html#osa-data"><i class="fa fa-check"></i><b>5.2</b> Osa data</a></li>
<li class="chapter" data-level="5.3" data-path="real-world-data.html"><a href="real-world-data.html#importing-a-dataframe-into-r-from-excel"><i class="fa fa-check"></i><b>5.3</b> Importing a dataframe into R from excel</a></li>
<li class="chapter" data-level="5.4" data-path="real-world-data.html"><a href="real-world-data.html#effort-exploration"><i class="fa fa-check"></i><b>5.4</b> Effort exploration</a><ul>
<li class="chapter" data-level="5.4.1" data-path="real-world-data.html"><a href="real-world-data.html#dealing-with-dates"><i class="fa fa-check"></i><b>5.4.1</b> Dealing with dates</a></li>
<li class="chapter" data-level="5.4.2" data-path="real-world-data.html"><a href="real-world-data.html#remove-cameras-that-did-not-function"><i class="fa fa-check"></i><b>5.4.2</b> Remove cameras that did not function</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="real-world-data.html"><a href="real-world-data.html#covariate-data"><i class="fa fa-check"></i><b>5.5</b> Covariate data</a><ul>
<li class="chapter" data-level="5.5.1" data-path="real-world-data.html"><a href="real-world-data.html#plotting-your-survey-sites---substr"><i class="fa fa-check"></i><b>5.5.1</b> Plotting your survey sites - Substr()</a></li>
<li class="chapter" data-level="5.5.2" data-path="real-world-data.html"><a href="real-world-data.html#explore-your-covariates"><i class="fa fa-check"></i><b>5.5.2</b> Explore your covariates</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="real-world-data.html"><a href="real-world-data.html#camera-trap-data"><i class="fa fa-check"></i><b>5.6</b> Camera trap data</a><ul>
<li class="chapter" data-level="5.6.1" data-path="real-world-data.html"><a href="real-world-data.html#subsetting-you-data-to-only-include-species-of-interest."><i class="fa fa-check"></i><b>5.6.1</b> Subsetting you data to only include species of interest.</a></li>
<li class="chapter" data-level="5.6.2" data-path="real-world-data.html"><a href="real-world-data.html#extracting-time-and-date-information"><i class="fa fa-check"></i><b>5.6.2</b> Extracting time and date information</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="real-world-data.html"><a href="real-world-data.html#building-analysis-dataframes"><i class="fa fa-check"></i><b>5.7</b> Building analysis dataframes</a><ul>
<li class="chapter" data-level="5.7.1" data-path="real-world-data.html"><a href="real-world-data.html#relative-abundance"><i class="fa fa-check"></i><b>5.7.1</b> Relative abundance</a></li>
<li class="chapter" data-level="5.7.2" data-path="real-world-data.html"><a href="real-world-data.html#step-1-summarise"><i class="fa fa-check"></i><b>5.7.2</b> Step 1: Summarise</a></li>
<li class="chapter" data-level="5.7.3" data-path="real-world-data.html"><a href="real-world-data.html#step-2-merge-with-effort"><i class="fa fa-check"></i><b>5.7.3</b> Step 2: Merge with effort</a></li>
<li class="chapter" data-level="5.7.4" data-path="real-world-data.html"><a href="real-world-data.html#step-3-merge-the-covariates"><i class="fa fa-check"></i><b>5.7.4</b> Step 3: Merge the covariates</a></li>
</ul></li>
<li class="chapter" data-level="5.8" data-path="real-world-data.html"><a href="real-world-data.html#real-data-exploration"><i class="fa fa-check"></i><b>5.8</b> Real data exploration</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="introduction-to-modelling.html"><a href="introduction-to-modelling.html"><i class="fa fa-check"></i><b>6</b> Introduction to Modelling</a><ul>
<li class="chapter" data-level="6.1" data-path="introduction-to-modelling.html"><a href="introduction-to-modelling.html#is-canopy-height-related-to-habitat-type-at-osa"><i class="fa fa-check"></i><b>6.1</b> Is canopy height related to habitat type at Osa?</a><ul>
<li class="chapter" data-level="6.1.1" data-path="introduction-to-modelling.html"><a href="introduction-to-modelling.html#what-is-a-model"><i class="fa fa-check"></i><b>6.1.1</b> What is a model</a></li>
<li class="chapter" data-level="6.1.2" data-path="introduction-to-modelling.html"><a href="introduction-to-modelling.html#the-p-value"><i class="fa fa-check"></i><b>6.1.2</b> The P-value</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="introduction-to-modelling.html"><a href="introduction-to-modelling.html#are-coatis-more-abundant-in-close-proximity-to-the-ocean"><i class="fa fa-check"></i><b>6.2</b> Are Coatis more abundant in close proximity to the ocean</a><ul>
<li class="chapter" data-level="6.2.1" data-path="introduction-to-modelling.html"><a href="introduction-to-modelling.html#comparing-multiple-predictors-of-coati-detections"><i class="fa fa-check"></i><b>6.2.1</b> Comparing multiple predictors of Coati detections</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R: an introduction to data management and analysis</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="setup" class="section level1">
<h1><span class="header-section-number">2</span> Setup</h1>
<p>Before we get into coding in R, we need to get a few things set up.</p>
<div id="notation" class="section level2">
<h2><span class="header-section-number">2.1</span> Notation</h2>
<p>In the following pages you will meet several font conventions:</p>
<ul>
<li><p>Normal text white background = my comments and notes</p></li>
<li><p>Grey box text = data to be entered into R by run (note #’s make text invisidble to R, but visible to you… more on that later)</p></li>
</ul>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="co"># Print Text</span></a>
<a class="sourceLine" id="cb1-2" title="2"><span class="kw">print</span>(<span class="st">&quot;Hello world!&quot;</span>)</a></code></pre></div>
<ul>
<li>White text in ‘Courier new’ font preceeded by the ## signs = R output</li>
</ul>
<pre><code>## [1] &quot;Hello world!&quot;</code></pre>
<ul>
<li><strong><em>Bold italic text</em></strong> = Tasks / exercises for you to complete</li>
</ul>
</div>
<div id="download-and-open-r" class="section level2">
<h2><span class="header-section-number">2.2</span> Download and open R</h2>
<p>Before we get into using R studio, it is useful to see what ‘base R’ looks like. Think of R Studio as the fancy packaging, but R as the machine itself.</p>
<ul>
<li><p>Download and R from <a href="https://cran.cnr.berkeley.edu/" class="uri">https://cran.cnr.berkeley.edu/</a></p></li>
<li><p>Open R</p></li>
</ul>
<p>The most important part to appreciate is the ‘R console’ (see below) - this is the interface between you and the inner workings of R. Everything you do in R goes through this console: your input commands, output and error messages are displayed here. I have increasingly seen people new to R ignoring the console and even having it minimized… This is not a good idea!</p>
<p><img src="Figures/RBasic.png" width="70%" /></p>
<p>It used to be that case that all code was directly cut and pasted into the R console, after the <code>&gt;</code> symbol… try it out!</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1"><span class="co"># Send through a simple command</span></a>
<a class="sourceLine" id="cb3-2" title="2"><span class="dv">4</span><span class="op">+</span><span class="dv">4</span></a></code></pre></div>
<pre><code>## [1] 8</code></pre>
<p>However, we now have ‘R Studio’ to make our lives considerably easier!</p>
</div>
<div id="download-and-open-r-studio" class="section level2">
<h2><span class="header-section-number">2.3</span> Download and open R Studio</h2>
<p>Head to <a href="https://www.rstudio.com/products/rstudio/download/" class="uri">https://www.rstudio.com/products/rstudio/download/</a> and download the free ‘R studio desktop edition’, install it and run it.</p>
<p>R Studio looks more complicated than the basic R GUI, but all of these elements are there to make your life easier. Do not worry about what these things mean, we will address each in turn below.</p>
</div>
<div id="setting-up-r-studio-to-be-productive" class="section level2">
<h2><span class="header-section-number">2.4</span> Setting up R Studio to be productive</h2>
<p>We will now set up our R workspace so that we can start coding! There are lots of different work-flows in R, some better than others. I am not going to show you everyway of doing things… just my way!</p>
<div id="r-projects" class="section level3">
<h3><span class="header-section-number">2.4.1</span> R Projects</h3>
<p>I can work on multiple different projects simultaneously as I use ‘projects’ in R studio. Think of a project file as a box into which you put everything you need to perform analysis for given a paper or report.</p>
<p>‘Projects’ are useful as you can have multiple completely independent projects open at the same time - the data and workspaces are not shared.</p>
<p><strong><em>First, make a folder called “Data Analysis” inside your normal work folder.</em></strong></p>
<p>Click on ‘File’ then ‘New Project’</p>
<p><img src="Figures/New%20project.png" width="65%" /></p>
<p>Click on ‘New directory’ then click on ‘New Project’. Call your new project something original like “Statistics course” then point the subdirectory to your newly created “Data Anlysis” folder.</p>
<p><img src="Figures/Create%20project.png" width="60%" /></p>
<p>Then click <strong>Create Project</strong>.</p>
<p>We are going to use this ‘Statistics Course’ Project to save all of the code and analysis which we will perform over the next three days.</p>
<p>Whenever you start on a new data analysis project - you MUST make a new projects file! For example, my folder currently looks like this:</p>
<p><img src="Figures/My%20project%20organisation.png" width="60%" /></p>
<p>Each folder contains one (or more) project files which I use to do my data analysis. I promise this will simplify your life and avoid confusion!</p>
<p>You can also share this folder with collaborators so that they can run all of your code without changing file paths… or share it with me if you are getting stuck on something!</p>
<p>Your R Studio window should now look like this:</p>
<p><img src="Figures/Basic%20R%20Studio.png" width="75%" /></p>
<p>You can see the original ‘R console’ on the bottom left-hand side.</p>
</div>
<div id="create-a-data-sheet-to-save-your-code" class="section level3">
<h3><span class="header-section-number">2.4.2</span> Create a data sheet to save your code</h3>
<p>We could start by typing our data straight into the R console. But it would not easily be able to see the work we have done, or repeat the analysis in the future. A much better idea would be to save your data in a worksheet!</p>
<p>To do this we need to create an “.R” file.</p>
<p>Click on ‘File’ -&gt; ‘New File’ -&gt; ‘R Script’ <em>or</em> ‘Ctrl+Shift+N’</p>
<p>Before you do anything else… save this sheet! Call it ‘Session 1 - Basic R’</p>
<p>Your R studio will now look like this:</p>
<p><img src="Figures/Session%201%20-%20Basic%20R.png" width="75%" /></p>
<p><strong>We are now ready to code!</strong></p>
</div>
<div id="name-your-files" class="section level3">
<h3><span class="header-section-number">2.4.3</span> Name your files</h3>
<p>You should always give your code sheet a title. I follow the following convention:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" title="1"><span class="co"># Title: Basic R Coding</span></a>
<a class="sourceLine" id="cb5-2" title="2"><span class="co"># Date: 1st December 2018</span></a></code></pre></div>
<p>The first universal rule of working in R is:</p>
<p><strong>Always comment your code</strong></p>
<p>The <code>#</code> symbol makes whatever you have written invisible to R. If you do not do this, you’ll come back to you work in 6 months and have no idea what any of it means. Commenting your code will mean your past work is a valuable future resource and will make you feel less overwhelmed.</p>
<p>The second universal rule is:</p>
<p><strong>Put spaces inbetween your code</strong></p>
<p>Squashingeverythingintoonelinemakesitverydifficulytoread. Although saving space is economical, it is buch better to be clear.</p>
<p>Use linebreaks and spaces to make the structure and logic behind your work clear.</p>
</div>
</div>
<div id="first-steps" class="section level2">
<h2><span class="header-section-number">2.5</span> First Steps</h2>
<p>Import the data set:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" title="1">elephant &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;ClassData/Elephant.csv&quot;</span>, <span class="dt">header=</span>T)</a></code></pre></div>
<p>To run your code hit ‘Ctrl+Enter’ <em>or</em> click the ‘Run’ command in the top line of the R sheet.</p>
<p>You can run multiple lines of of code at one by highlighting them and pressing ‘Ctrl+Enter’.</p>
<div id="veiwing-data" class="section level3">
<h3><span class="header-section-number">2.5.1</span> Veiwing Data</h3>
<p>I see students opening their data in Excel to look at it <em>all the time</em>, but it is very easy in R!</p>
<p>We can take a quick look at our data using the <code>head()</code>. It prints the first few lines of a dataframe, and gives you a good snapshot of what is going on.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" title="1"><span class="kw">head</span>(elephant)</a></code></pre></div>
<pre><code>##      Name    Sex       Region HomeRange      NDVI TuskLength GroupSize
## 1    Lisa Female Wonga Wongue    239.32 0.7264260       0.09         2
## 2    Rosa Female Wonga Wongue    184.35 0.7690821       1.14         7
## 3  Kengue   Male Wonga Wongue    478.93 0.7737994       1.47         4
## 4   Mambo   Male Wonga Wongue    279.69 0.7611887       0.30         1
## 5   David   Male Wonga Wongue   1291.67 0.7954598       1.57         4
## 6 Mboumba   Male Wonga Wongue   1454.34 0.7614236       2.04         3</code></pre>
<p>We can take a more in-depth, excel style, look by clicking on the ‘elephant’ dataframe in the ‘Environment’ frame (top right).</p>
<p><img src="Figures/View%20Dataframe.png" width="60%" /></p>
</div>
<div id="data-summaries" class="section level3">
<h3><span class="header-section-number">2.5.2</span> Data summaries</h3>
<p>Let’s explore the <code>elephant</code> data! First, we want to know how many elephants of each sex, the largest recorded group size, and the mean tusk length in our dataset.</p>
<p><strong><em>Enter the following into R</em></strong></p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" title="1"><span class="kw">table</span>(elephant<span class="op">$</span>Sex) <span class="co"># How many male/female elephants?</span></a></code></pre></div>
<pre><code>## 
## Female   Male 
##     26     22</code></pre>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" title="1"><span class="kw">max</span>(elephant<span class="op">$</span>GroupSize) <span class="co"># What is the largest group size?</span></a></code></pre></div>
<pre><code>## [1] 12</code></pre>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" title="1"><span class="kw">mean</span>(elephant<span class="op">$</span>TuskLength) <span class="co"># What is the largest tusk length in the dataset?</span></a></code></pre></div>
<pre><code>## [1] 0.7</code></pre>
<p>Let’s now calculate the average tusk length for males and females. We can use the <code>aggregate()</code> function to calculate mean tusk lengths separately for each sex.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" title="1"><span class="co"># Average tusk length by sex</span></a>
<a class="sourceLine" id="cb15-2" title="2"></a>
<a class="sourceLine" id="cb15-3" title="3"><span class="kw">aggregate</span>(<span class="dt">formula=</span> TuskLength <span class="op">~</span><span class="st"> </span>Sex,</a>
<a class="sourceLine" id="cb15-4" title="4">          <span class="dt">data=</span>elephant,</a>
<a class="sourceLine" id="cb15-5" title="5">          <span class="dt">FUN=</span>mean)</a></code></pre></div>
<pre><code>##      Sex TuskLength
## 1 Female  0.5992308
## 2   Male  0.8190909</code></pre>
</div>
<div id="plot-your-data" class="section level3">
<h3><span class="header-section-number">2.5.3</span> Plot your data</h3>
<p>Let’s make a plot of home range size versus tusk length.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" title="1"><span class="kw">plot</span>(<span class="dt">x =</span> elephant<span class="op">$</span>TuskLength, <span class="dt">y =</span> elephant<span class="op">$</span>HomeRange) <span class="co"># simple r scatter plot</span></a></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-18-1.png" width="60%" /></p>
<p>Interesting… but not very pretty. Lets clean it up.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" title="1"><span class="kw">plot</span>(<span class="dt">x =</span> elephant<span class="op">$</span>TuskLength, <span class="dt">y =</span> elephant<span class="op">$</span>HomeRange,</a>
<a class="sourceLine" id="cb18-2" title="2">     <span class="dt">main =</span> <span class="st">&quot;My first nice R plot&quot;</span>,    <span class="co"># Main heading               </span></a>
<a class="sourceLine" id="cb18-3" title="3">     <span class="dt">xlab =</span> <span class="st">&quot;Tusk length (m)&quot;</span>,         <span class="co"># X-axis label</span></a>
<a class="sourceLine" id="cb18-4" title="4">     <span class="dt">ylab =</span> <span class="st">&quot;Home range size (km2)&quot;</span>,   <span class="co"># Y-axis label</span></a>
<a class="sourceLine" id="cb18-5" title="5">     <span class="dt">pch=</span><span class="dv">19</span>,                           <span class="co"># Filled circles </span></a>
<a class="sourceLine" id="cb18-6" title="6">     <span class="dt">las=</span><span class="dv">1</span>                             <span class="co"># Rotate y-axis labels</span></a>
<a class="sourceLine" id="cb18-7" title="7">     ) <span class="co"># simple r scatter plot</span></a></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-19-1.png" width="60%" /></p>
</div>
<div id="test-your-hypotheses" class="section level3">
<h3><span class="header-section-number">2.5.4</span> Test your hypotheses</h3>
<p>Let’s do some basic hypothesis testing. First we will perform a two-sample t-test to see if male elephants and female elephants have different group sizes.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" title="1"><span class="kw">t.test</span>(<span class="dt">formula =</span> GroupSize <span class="op">~</span><span class="st"> </span>Sex,</a>
<a class="sourceLine" id="cb19-2" title="2">       <span class="dt">data =</span> elephant,</a>
<a class="sourceLine" id="cb19-3" title="3">       <span class="dt">alternative =</span> <span class="st">&#39;two.sided&#39;</span>)</a></code></pre></div>
<pre><code>## 
##  Welch Two Sample t-test
## 
## data:  GroupSize by Sex
## t = 0.31318, df = 44.862, p-value = 0.7556
## alternative hypothesis: true difference in means is not equal to 0
## 95 percent confidence interval:
##  -1.139534  1.559114
## sample estimates:
## mean in group Female   mean in group Male 
##             3.846154             3.636364</code></pre>
<p>Our p-value of 0.7556 suggests that we do not have sufficent evidence to say there is a difference in group size between males and females.</p>
<p>Next, lets see if there is a correlation between the tusk length of an elephant and its home range size.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" title="1"><span class="kw">cor.test</span>(<span class="dt">formula =</span> <span class="op">~</span><span class="st"> </span>TuskLength <span class="op">+</span><span class="st"> </span>HomeRange,</a>
<a class="sourceLine" id="cb21-2" title="2">         <span class="dt">data =</span> elephant)</a></code></pre></div>
<pre><code>## 
##  Pearson&#39;s product-moment correlation
## 
## data:  TuskLength and HomeRange
## t = 6.6534, df = 46, p-value = 3.021e-08
## alternative hypothesis: true correlation is not equal to 0
## 95 percent confidence interval:
##  0.5195249 0.8210520
## sample estimates:
##       cor 
## 0.7002868</code></pre>
<p>We got a p-value of 3.021e-08, which is P &lt; 0.00000003. Which means that it is very unlikely that the positive relationship between tusk length and home range size came about by chance. Tusk length predicts home range size.</p>
</div>
<div id="regression-analysis" class="section level3">
<h3><span class="header-section-number">2.5.5</span> Regression analysis</h3>
<p>Finally, lets run a full regression analysis to see if home range size is infleuced by sex, tusk length and an elephant group size.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb23-1" title="1"><span class="co"># Fit the model</span></a>
<a class="sourceLine" id="cb23-2" title="2">reg.model &lt;-<span class="st"> </span><span class="kw">lm</span>(<span class="dt">formula =</span> HomeRange <span class="op">~</span><span class="st"> </span>Sex <span class="op">+</span><span class="st"> </span>TuskLength <span class="op">+</span><span class="st"> </span>GroupSize,</a>
<a class="sourceLine" id="cb23-3" title="3">                    <span class="dt">data =</span> elephant)</a>
<a class="sourceLine" id="cb23-4" title="4"></a>
<a class="sourceLine" id="cb23-5" title="5"><span class="co">#Show the summary statistics</span></a>
<a class="sourceLine" id="cb23-6" title="6"><span class="kw">summary</span>(reg.model)</a></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = HomeRange ~ Sex + TuskLength + GroupSize, data = elephant)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -318.82 -157.82   12.18  107.21  578.80 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)  -52.027     78.994  -0.659    0.514    
## SexMale       87.325     61.249   1.426    0.161    
## TuskLength   455.194     75.454   6.033 3.02e-07 ***
## GroupSize     -9.269     12.959  -0.715    0.478    
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 203.4 on 44 degrees of freedom
## Multiple R-squared:  0.5191, Adjusted R-squared:  0.4863 
## F-statistic: 15.83 on 3 and 44 DF,  p-value: 4.006e-07</code></pre>
<p>The only strong predictor of elephant home range size is tusk length!</p>
</div>
<div id="congratulations" class="section level3">
<h3><span class="header-section-number">2.5.6</span> Congratulations</h3>
<p><strong>You are an R programmer!</strong></p>
<p>We just imported a data set, explored it and did some basic analysis in no time at all! R is amazing… if you know what you are doing.</p>
<p>Let’s take a few steps back and start learning the basics.</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="r-basics.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
